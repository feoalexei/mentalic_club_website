{"id":"Ljie","dependencies":[{"name":"D:\\Codes\\mentalic_2021\\package.json","includedInParent":true,"mtime":1637582208417},{"name":"D:\\Codes\\mentalic_2021\\node_modules\\bs5-lightbox\\package.json","includedInParent":true,"mtime":1637582208401},{"name":"./bootstrap/modal","loc":{"line":11,"column":40},"parent":"D:\\Codes\\mentalic_2021\\node_modules\\bs5-lightbox\\dist\\index.js","resolved":"D:\\Codes\\mentalic_2021\\node_modules\\bs5-lightbox\\dist\\bootstrap\\modal.js"},{"name":"./bootstrap/carousel","loc":{"line":12,"column":43},"parent":"D:\\Codes\\mentalic_2021\\node_modules\\bs5-lightbox\\dist\\index.js","resolved":"D:\\Codes\\mentalic_2021\\node_modules\\bs5-lightbox\\dist\\bootstrap\\carousel.js"}],"generated":{"js":"var $Ljie$exports={};function $Ljie$var$_toConsumableArray(t){return $Ljie$var$_arrayWithoutHoles(t)||$Ljie$var$_iterableToArray(t)||$Ljie$var$_unsupportedIterableToArray(t)||$Ljie$var$_nonIterableSpread()}function $Ljie$var$_nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function $Ljie$var$_unsupportedIterableToArray(t,e){if(t){if(\"string\"==typeof t)return $Ljie$var$_arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===a&&t.constructor&&(a=t.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(t):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$Ljie$var$_arrayLikeToArray(t,e):void 0}}function $Ljie$var$_iterableToArray(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}function $Ljie$var$_arrayWithoutHoles(t){if(Array.isArray(t))return $Ljie$var$_arrayLikeToArray(t)}function $Ljie$var$_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function $Ljie$var$_defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function $Ljie$var$_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function $Ljie$var$_defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $Ljie$var$_createClass(t,e,a){return e&&$Ljie$var$_defineProperties(t.prototype,e),a&&$Ljie$var$_defineProperties(t,a),t}var $Ljie$var$__importDefault=$Ljie$exports&&$Ljie$exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($Ljie$exports,\"__esModule\",{value:!0});var $Ljie$var$modal_1=$Ljie$var$__importDefault($parcel$require(\"Ljie\",\"./bootstrap/modal\")),$Ljie$var$carousel_1=$Ljie$var$__importDefault($parcel$require(\"Ljie\",\"./bootstrap/carousel\")),$Ljie$var$bootstrap={Modal:$Ljie$var$modal_1.default,Carousel:$Ljie$var$carousel_1.default},$Ljie$var$Lightbox=function(){function t(e,a={}){var r=this;$Ljie$var$_classCallCheck(this,t),this.hash=this.randomHash(),this.settings=Object.assign(Object.assign(Object.assign({},$Ljie$var$bootstrap.Modal.Default),$Ljie$var$bootstrap.Carousel.Default),{interval:!1,target:'[data-toggle=\"lightbox\"]',gallery:\"\",size:\"xl\"}),this.modalOptions=r.setOptionsFromSettings($Ljie$var$bootstrap.Modal.Default),this.carouselOptions=r.setOptionsFromSettings($Ljie$var$bootstrap.Carousel.Default),\"string\"==typeof e&&(this.settings.target=e,e=document.querySelector(this.settings.target)),this.settings=Object.assign(Object.assign({},this.settings),a),this.el=e,this.type=e.dataset.type||\"image\",this.src=this.getSrc(e),this.src=\"image\"!==this.type?\"embed\"+this.src:this.src,this.sources=this.getGalleryItems(),this.createCarousel(),this.createModal()}return $Ljie$var$_createClass(t,[{key:\"show\",value:function(){document.body.appendChild(this.modalElement),this.modal.show()}},{key:\"hide\",value:function(){this.modal.hide()}},{key:\"setOptionsFromSettings\",value:function(t){var e=this;return Object.keys(t).reduce(function(t,a){return Object.assign(t,$Ljie$var$_defineProperty({},a,e.settings[a]))},{})}},{key:\"getSrc\",value:function(t){var e=t.dataset.src||t.dataset.remote||t.href||\"http://via.placeholder.com/1600x900\";/\\:\\/\\//.test(e)||(e=window.location.origin+e);var a=new URL(e);return(t.dataset.footer||t.dataset.caption)&&a.searchParams.set(\"caption\",t.dataset.footer||t.dataset.caption),a.toString()}},{key:\"getGalleryItems\",value:function(){var t,e=this;if(this.settings.gallery){if(Array.isArray(this.settings.gallery))return this.settings.gallery;t=this.settings.gallery}else this.el.dataset.gallery&&(t=this.el.dataset.gallery);return t?$Ljie$var$_toConsumableArray(new Set(Array.from(document.querySelectorAll(`[data-gallery=\"${t}\"]`),function(t){return`${t.dataset.type?\"embed\":\"\"}${e.getSrc(t)}`}))):[this.src]}},{key:\"getYoutubeId\",value:function(t){if(!t)return!1;var e=t.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/);return!(!e||11!==e[2].length)&&e[2]}},{key:\"getInstagramEmbed\",value:function(t){if(/instagram/.test(t))return`<iframe src=\"${t+=/\\/embed$/.test(t)?\"\":\"/embed\"}\" class=\"start-50 translate-middle-x\" style=\"max-width: 500px\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>`}},{key:\"isEmbed\",value:function(e){var a=new RegExp(t.allowedEmbedTypes.join(\"|\")).test(e),r=/\\.(png|jpe?g|gif|svg|webp)/.test(e);return a||!r}},{key:\"createCarousel\",value:function(){var t=this,e=document.createElement(\"template\"),a=this.sources.map(function(e,a){var r=\"\",i=`<img src=\"${e=e.replace(/\\/$/,\"\")}\" class=\"d-block w-100 h-100 img-fluid\" style=\"z-index: 1; object-fit: contain;\" onload=\"${r+=/\\.png/.test(e)?\"this.add.previousSibling.remove()\":\"\"}\" />`,s=\"\",o=t.getInstagramEmbed(e),n=t.getYoutubeId(e);t.isEmbed(e)&&(/^embed/.test(e)&&(e=e.substring(5)),n&&(e=`https://www.youtube.com/embed/${n}`,s='title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture\"'),i=o||`<iframe src=\"${e}\" ${s} allowfullscreen></iframe>`);var l=new URLSearchParams(e.split(\"?\")[1]),u=\"\";return l.get(\"caption\")&&(u=`<p class=\"lightbox-caption m-0 p-2 text-center text-white small\"><em>${l.get(\"caption\")}</em></p>`),`\\n\\t\\t\\t\\t<div class=\"carousel-item ${a?\"\":\"active\"}\" style=\"min-height: 100px\">\\n\\t\\t\\t\\t\\t<div class=\"position-absolute top-50 start-50 translate-middle text-white\"><div class=\"spinner-border\" style=\"width: 3rem height: 3rem\" role=\"status\"></div></div>\\n\\t\\t\\t\\t\\t<div class=\"ratio ratio-16x9\" style=\"background-color: #000;\">${i}</div>\\n\\t\\t\\t\\t\\t${u}\\n\\t\\t\\t\\t</div>`}).join(\"\"),r=this.sources.length<2?\"\":`\\n\\t\\t\\t<button class=\"carousel-control carousel-control-prev h-75 m-auto\" type=\"button\" data-bs-target=\"#lightboxCarousel-${this.hash}\" data-bs-slide=\"prev\">\\n\\t\\t\\t\\t<span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\\n\\t\\t\\t\\t<span class=\"visually-hidden\">Previous</span>\\n\\t\\t\\t</button>\\n\\t\\t\\t<button class=\"carousel-control carousel-control-next h-75 m-auto\" type=\"button\" data-bs-target=\"#lightboxCarousel-${this.hash}\" data-bs-slide=\"next\">\\n\\t\\t\\t\\t<span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\\n\\t\\t\\t\\t<span class=\"visually-hidden\">Next</span>\\n\\t\\t\\t</button>`,i=\"lightbox-carousel carousel\";\"fullscreen\"===this.settings.size&&(i+=\" position-absolute w-100 translate-middle top-50 start-50\");var s=`\\n\\t\\t\\t<div id=\"lightboxCarousel-${this.hash}\" class=\"${i}\" data-bs-ride=\"carousel\" data-bs-interval=\"${this.carouselOptions.interval}\">\\n\\t\\t\\t\\t<div class=\"carousel-inner\">\\n\\t\\t\\t\\t\\t${a}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t${r}\\n\\t\\t\\t</div>`;return e.innerHTML=s.trim(),this.carouselElement=e.content.firstChild,this.carousel=new $Ljie$var$bootstrap.Carousel(this.carouselElement,this.carouselOptions),this.carousel.to(this.sources.includes(this.src)?this.sources.indexOf(this.src):0),this.carousel}},{key:\"createModal\",value:function(){var t=this,e=document.createElement(\"template\"),a=`\\n\\t\\t\\t<div class=\"modal lightbox fade\" id=\"lightboxModal-${this.hash}\" tabindex=\"-1\" aria-hidden=\"true\">\\n\\t\\t\\t\\t<div class=\"modal-dialog modal-dialog-centered modal-${this.settings.size}\">\\n\\t\\t\\t\\t\\t<div class=\"modal-content border-0 bg-transparent\">\\n\\t\\t\\t\\t\\t\\t<div class=\"modal-body p-0\">\\n\\t\\t\\t\\t\\t\\t\\t<button type=\"button\" class=\"btn-close position-absolute top-0 end-0 p-3\" data-bs-dismiss=\"modal\" aria-label=\"Close\" style=\"z-index: 2; background: none;\"><svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: relative; top: -5px;\" viewBox=\"0 0 16 16\" fill=\"#fff\"><path d=\"M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z\"/></svg></button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>`;return e.innerHTML=a.trim(),this.modalElement=e.content.firstChild,this.modalElement.querySelector(\".modal-body\").appendChild(this.carouselElement),this.modalElement.addEventListener(\"hidden.bs.modal\",function(){return t.modalElement.remove()}),this.modalElement.querySelector(\"[data-bs-dismiss]\").addEventListener(\"click\",function(){return t.modal.hide()}),this.modal=new $Ljie$var$bootstrap.Modal(this.modalElement,this.modalOptions),this.modal}},{key:\"randomHash\",value:function(t=8){return Array.from({length:t},function(){return Math.floor(36*Math.random()).toString(36)}).join(\"\")}}]),t}();$Ljie$var$Lightbox.allowedEmbedTypes=[\"embed\",\"youtube\",\"vimeo\",\"instagram\",\"url\"],$Ljie$var$Lightbox.allowedMediaTypes=[].concat($Ljie$var$_toConsumableArray($Ljie$var$Lightbox.allowedEmbedTypes),[\"image\"]),$Ljie$var$Lightbox.defaultSelector='[data-toggle=\"lightbox\"]',$Ljie$var$Lightbox.initialize=function(t){t.preventDefault(),new $Ljie$var$Lightbox(this).show()},document.querySelectorAll($Ljie$var$Lightbox.defaultSelector).forEach(function(t){return t.addEventListener(\"click\",$Ljie$var$Lightbox.initialize)});var $Ljie$export$default=$Ljie$var$Lightbox;$Ljie$exports.default=$Ljie$export$default;"},"sourceMaps":null,"error":null,"hash":"ceb6529282daa2aec67ce3eef45ca483","cacheData":{"env":{},"imports":{"$require$./bootstrap/modal":["./bootstrap/modal","*"],"$require$./bootstrap/carousel":["./bootstrap/carousel","*"]},"exports":{"default":"$Ljie$export$default"},"wildcards":[],"sideEffects":true,"isCommonJS":true}}